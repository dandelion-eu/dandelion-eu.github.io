(function(){"use strict";window.docsApp={},window.docsApp.fixAnchors=function(){var t=".anchor",e=".example-alert";$(t).append('<span class="icon-link"></span>'),$(e).addClass("hidden")},window.docsApp.totalSection=0,window.docsApp.sectionRender=$.Deferred().done(function(){window.docsApp.fixAnchors()}),window.docsApp.createPrettyUrl=function(t,e){var n,i="&#8203;";return n=t.replace(/\//g,"/"+i),_.each(e,function(t){n=n.replace(t,"<strong>"+t+"</strong>","g")}),n},window.docsApp.SectionView=Backbone.View.extend({template:_.template($("#api-section-template").html()),initialize:function(t){var e=this;_.bindAll(this,"render","afterRender"),this.sectionName=t.sectionName,this.largeTitle=t.largeTitle,this.render=_.wrap(this.render,function(t){return t(),e.afterRender(),e})},afterRender:function(){window.docsApp.totalSection-=1,0>=window.docsApp.totalSection&&window.docsApp.sectionRender.resolve()},render:function(){var t=this;return _.each(this.collection.models,function(e){var n=/[\$_]/g,i=/\$/g,r={section:e.get("name"),fatherSection:t.sectionName,cleanSection:e.get("name").replace(n,""),grammar:e.get("grammar"),description:e.get("description"),sectionTag:e.get("name").replace(i,""),largeTitle:t.largeTitle};t.$el.append(t.template(r))}),this}}),window.docsApp.DocView=Backbone.View.extend({exampleTemplate:'<li><a class="example-link" title="<%= title %>" target="_blank" href="http://dandelion.eu/api/v1/<%=url%>"><%= prettyUrl %></a></li>',initialize:function(){_.bindAll(this,"getElByTag"),this.exampleContainer=".example-alert",this.examples=this.$el.find(this.exampleContainer),this.allTags=$.map(this.examples,function(t){return $(t).data("example")})},getElByTag:function(t){return $(this.$el.find("[data-example="+t+"]"))},renderExample:function(t){var e={url:encodeURI(t.get("url")),prettyUrl:window.docsApp.createPrettyUrl(t.get("url"),t.get("tags")),title:t.get("title","")};return _.template(this.exampleTemplate,e)},render:function(){var t=this;return _.each(this.allTags,function(e){var n,i,r=t.collection.where({featured:e});if(r.length>0){n=t.getElByTag(e),n.removeClass("hidden"),i=n.find("ul");for(var o=r.length;o--;)i.append(t.renderExample(r[o]))}}),this}})})(),function(){"use strict";$.get("dataApi.yaml").success(function(t){var e=jsyaml.load(t),n={parameters:!1,fieldFunctions:!1,filterFunctions:!0};window.docsApp.section={},window.docsApp.sectionData={},window.docsApp.totalSection=Object.keys(e).length,_.each(e,function(t,e){window.docsApp.sectionData[e]=new Backbone.Collection,window.docsApp.section[e]=new window.docsApp.SectionView({el:$("#auto-"+e),collection:window.docsApp.sectionData[e].add(t),sectionName:e,largeTitle:n[e]}),window.docsApp.section[e].render()})}),$.get("examples.yaml").success(function(t){var e=jsyaml.load(t);window.docsApp.examples=new Backbone.Collection,window.docsApp.examples.add(e),window.docsApp.docView=new window.docsApp.DocView({el:$("#doc-section"),collection:window.docsApp.examples}),window.docsApp.docView.render()})}();